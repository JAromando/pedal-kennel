

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Teacher Reference &mdash; Pedal 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Teacher Tutorial" href="tutorial.html" />
    <link rel="prev" title="Teacher Examples" href="examples.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Pedal
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../everyone/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../everyone/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Teacher Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Teacher Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Teacher Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#core-commands">Core Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cait">CAIT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#list-of-pedal-data-types">List of Pedal Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#save-and-reference-variable">Save and reference variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-a-function-call">Reference a function call</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-a-function-definition">Reference a function definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subtree-matching">Subtree matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-data-types">Finding Data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-output">Getting Output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Teacher Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/api.html">Developer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/integrations.html">Developer Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../everyone/glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pedal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Teacher Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/teachers/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="teacher-reference">
<span id="quick-reference"></span><h1>Teacher Reference<a class="headerlink" href="#teacher-reference" title="Permalink to this headline">¶</a></h1>
<p>This section describes the functions and tools available within Pedal for the
benefit of an instructor authoring feedback. It does not attempt to exhaustively
document all the features available - for that, you should refer to the <a class="reference internal" href="../developers/api.html#full-api"><span class="std std-ref">Developer API</span></a>.</p>
<div class="section" id="core-commands">
<h2>Core Commands<a class="headerlink" href="#core-commands" title="Permalink to this headline">¶</a></h2>
<p>Imported as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal</span> <span class="k">import</span> <span class="n">set_success</span><span class="p">,</span> <span class="n">compliment</span>
</pre></div>
</div>
<dl class="function">
<dt id="set_success">
<code class="sig-name descname">set_success</code><span class="sig-paren">(</span><em class="sig-param">justification: str = None</em><span class="sig-paren">)</span><a class="headerlink" href="#set_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this submission as correct/complete/successful. Typically resolved as overriding
all other feedback. Often triggered as part of a conditional. You can optionally set
an (internal) <cite>justification</cite> message for why this was triggered.</p>
</dd></dl>

<dl class="function">
<dt id="compliment">
<code class="sig-name descname">compliment</code><span class="sig-paren">(</span><em class="sig-param">message: str</em>, <em class="sig-param">value: number = 0</em>, <em class="sig-param">justification: str = None</em><span class="sig-paren">)</span><a class="headerlink" href="#compliment" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a <cite>message</cite> to the student complimenting them on something they did correctly.
You can also specify a numeric <cite>value</cite> that will be added as partial credit.
Finally, you can optionally set an internal <cite>justification</cite> message for why this was triggered.</p>
</dd></dl>

<dl class="function">
<dt id="give_partial">
<code class="sig-name descname">give_partial</code><span class="sig-paren">(</span><em class="sig-param">value: number</em>, <em class="sig-param">justification: str = None</em><span class="sig-paren">)</span><a class="headerlink" href="#give_partial" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases the student’s overall score by the numeric <cite>value</cite>.
Finally, you can optionally set an internal <cite>justification</cite> message for why this was triggered.</p>
</dd></dl>

</div>
<div class="section" id="cait">
<h2>CAIT<a class="headerlink" href="#cait" title="Permalink to this headline">¶</a></h2>
<p>All the items in this guide may depend on one or more imports from the pedal package.
However, most of these should work with the following imports</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.cait.cait_api</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pedal.tifa</span> <span class="kn">import</span> <span class="n">tifa_analysis</span>
</pre></div>
</div>
<p>Note that you’ll need to run tifa_analysis.</p>
<p>more often than not, you’ll want to use <cite>find_matches</cite> as opposed to the <cite>find_match</cite> command used in this quick reference guide. The <cite>find_match</cite> function is used for brevity, but typicaly you’ll use the following pattern</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matches</span> <span class="o">=</span> <span class="n">find_matches</span><span class="p">(</span><span class="s2">&quot;#instructor code&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
  <span class="c1"># do something</span>
</pre></div>
</div>
<p>Also note that many of these items return a CaitNode; CaitNodes should mirror the built-in ast_node class except with added fields or functionality. In general it should be easier to work with CaitNodes as many additional operations and matching functionality are supported with CaitNodes.</p>
<div class="section" id="list-of-pedal-data-types">
<h3>List of Pedal Data Types<a class="headerlink" href="#list-of-pedal-data-types" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>BoolType</p></li>
<li><p>DictType</p></li>
<li><p>FunctionType</p></li>
<li><p>LiteralBool</p></li>
<li><p>LiteralNone</p></li>
<li><p>LiteralNum</p></li>
<li><p>LiteralStr</p></li>
<li><p>NoneType</p></li>
<li><p>NumType</p></li>
<li><p>StrType</p></li>
<li><p>TupleType</p></li>
<li><p>UnknownType</p></li>
</ul>
</div>
<div class="section" id="save-and-reference-variable">
<h3>Save and reference variable<a class="headerlink" href="#save-and-reference-variable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;_var_ = ___ + _var_&quot;</span><span class="p">)</span>
<span class="n">student_var</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_var_&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="reference-a-function-call">
<h3>Reference a function call<a class="headerlink" href="#reference-a-function-call" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;_var_ = _function_()&quot;</span><span class="p">)</span>
<span class="n">student_func_call</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_function_&#39;</span><span class="p">]</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">student_func_call</span><span class="o">.</span><span class="n">args</span> <span class="c1">#access list of arguments as CaitNodes</span>
<span class="n">keywords</span> <span class="o">=</span> <span class="n">student_func_call</span><span class="o">.</span><span class="n">keywords</span> <span class="c1">#access keyword arguments as CaitNodes</span>
</pre></div>
</div>
</div>
<div class="section" id="reference-a-function-definition">
<h3>Reference a function definition<a class="headerlink" href="#reference-a-function-definition" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;def _my_func_():</span><span class="se">\n</span><span class="s2">&quot;</span>
                   <span class="s2">&quot;    pass</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">student_func_def</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_my_func_&#39;</span><span class="p">]</span> <span class="c1"># root node of function definition</span>
</pre></div>
</div>
<p>Note that by modifying this example, you can also check to see if the function is called, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;def _my_func_():</span><span class="se">\n</span><span class="s2">&quot;</span>
                   <span class="s2">&quot;    pass</span><span class="se">\n</span><span class="s2">&quot;</span>
                   <span class="s2">&quot;_my_func_()&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">match</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;You haven&#39;t defined a function and used the function you defined!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>will look for a function definition followed by the usage of the function as an ast sibling (so same indentation level as definition</p>
</div>
<div class="section" id="subtree-matching">
<h3>Subtree matching<a class="headerlink" href="#subtree-matching" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;for _item_ in _list_:</span><span class="se">\n</span><span class="s2">&quot;</span>
                   <span class="s2">&quot;    __exp__&quot;</span><span class="p">)</span>
<span class="n">match</span><span class="p">[</span><span class="s1">&#39;__exp__&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;# whatever submatch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Normally CAIT will match to direct siblings. By using an expression, you can instead search everything contained in the body of the for loop, or other ast child nodes (see tutorial)</p>
</div>
<div class="section" id="finding-data-types">
<h3>Finding Data types<a class="headerlink" href="#finding-data-types" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.tifa.type_definitions</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;for _item_ in _list_:</span><span class="se">\n</span><span class="s2">&quot;</span>
                   <span class="s2">&quot;    _sum_ = _sum_ + _item_&quot;</span><span class="p">)</span>
<span class="n">data_type</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_sum_&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_data_type</span><span class="p">()</span>
<span class="nb">type</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span> <span class="o">==</span> <span class="n">NumType</span> <span class="c1"># checks if it the last type it took on</span>

<span class="n">data_state</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_sum_&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_data_state</span><span class="p">()</span>
<span class="n">data_state</span><span class="o">.</span><span class="n">was_type</span><span class="p">(</span><span class="s1">&#39;NumType&#39;</span><span class="p">)</span> <span class="c1"># checks if _sum_ was a number at some point</span>
<span class="n">data_state</span><span class="o">.</span><span class="n">was_type</span><span class="p">(</span><span class="n">NumType</span><span class="p">)</span> <span class="c1"># equivalent to previous line</span>

<span class="n">match</span><span class="p">[</span><span class="s1">&#39;_sum_&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">was_type</span><span class="p">(</span><span class="s1">&#39;NumType&#39;</span><span class="p">)</span> <span class="c1"># If you&#39;re only doing one access, you can use this</span>
</pre></div>
</div>
<p>If you want to explore the data types yourself, recursively access the <cite>trace</cite> (a list of <cite>State</cite> objects) attribute of data_state and check each state’s <cite>type</cite> attribute. For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.tifa.type_definitions</span> <span class="kn">import</span> <span class="o">*</span>
<span class="sd">&#39;&#39;&#39;# Student Source Code</span>
<span class="sd">var = 14</span>
<span class="sd">var = &#39;String&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;_var_ = ___</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">data_state</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s1">&#39;_var_&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_data_state</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">print_types</span><span class="p">(</span><span class="n">data_state</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">data_state</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_state</span><span class="o">.</span><span class="n">trace</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">print_types</span><span class="p">(</span><span class="n">data_state</span><span class="o">.</span><span class="n">trace</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">print_types</span><span class="p">(</span><span class="n">data_state</span><span class="p">)</span>
<span class="sd">&#39;&#39;&#39;#Output</span>
<span class="sd">StrType</span>
<span class="sd">NumType</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-output">
<h3>Getting Output<a class="headerlink" href="#getting-output" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.sandbox.compatibility</span> <span class="kn">import</span> <span class="n">get_output</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">get_output</span><span class="p">()</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>  <span class="c1"># Each line of output is given as a separate item in the list.</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Teacher Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="examples.html" class="btn btn-neutral float-left" title="Teacher Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, acbart, lukesg08

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>